
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../images/leaf.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Dataset Templates Reference - Leaf</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dataset-templates-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Leaf" class="md-header__button md-logo" aria-label="Leaf" data-md-component="logo">
      
  <img src="../../images/leaf.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Leaf
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dataset Templates Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/uwrit/leaf/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Leaf
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      What is Leaf?
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        Installation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../development_and_testing/" class="md-tabs__link">
        Development and Testing
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Administration
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faqs_and_troubleshooting/" class="md-tabs__link">
        FAQs and Troubleshooting
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../showcase/" class="md-tabs__link">
        Showcase
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Leaf" class="md-nav__button md-logo" aria-label="Leaf" data-md-component="logo">
      
  <img src="../../images/leaf.svg" alt="logo">

    </a>
    Leaf
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/uwrit/leaf/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Leaf
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        What is Leaf?
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      <label class="md-nav__link" for="__nav_2_2">
        Installation steps
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation steps" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Installation steps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/1_app_db/" class="md-nav__link">
        1 - Create App Database
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/2_app_server/" class="md-nav__link">
        2 - Configure App Server
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/3_jwt/" class="md-nav__link">
        3 - Create a JWT Signing Key
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/4_compile_api/" class="md-nav__link">
        4 - Compile the Leaf API
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/5_compile_client/" class="md-nav__link">
        5 - Build the Leaf Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/6_appsettings/" class="md-nav__link">
        6 - Configure the appsettings file
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/7_env/" class="md-nav__link">
        7 - Set Environment Variables
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/8a_configure_apache/" class="md-nav__link">
        8a - Configure Leaf with Apache
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/8b_configure_iis/" class="md-nav__link">
        8b - Configure Leaf with IIS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/installation_steps/9_saml2/" class="md-nav__link">
        9 - Configure Authentication with SAML2
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Development and Testing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development and Testing" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Development and Testing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../development_and_testing/" class="md-nav__link">
        Development and Testing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Administration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Administration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Administration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Administration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../concept_reference/" class="md-nav__link">
        Concept Reference
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        The Building Blocks of Leaf: Concepts
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Dataset Templates Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Dataset Templates Reference
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#observation" class="md-nav__link">
    Observation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encounter" class="md-nav__link">
    Encounter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-demographics" class="md-nav__link">
    Basic Demographics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#condition" class="md-nav__link">
    Condition
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedure" class="md-nav__link">
    Procedure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#immunization" class="md-nav__link">
    Immunization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allergy" class="md-nav__link">
    Allergy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#medicationrequest" class="md-nav__link">
    MedicationRequest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#medicationadministration" class="md-nav__link">
    MedicationAdministration
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../datasets/" class="md-nav__link">
        Extracting Data for a Cohort: Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../federation/" class="md-nav__link">
        Networking Multiple Leaf instances
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        FAQs and Troubleshooting
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="FAQs and Troubleshooting" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          FAQs and Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs_and_troubleshooting/" class="md-nav__link">
        General Questions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs_and_troubleshooting/installation_questions/" class="md-nav__link">
        Installation Questions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../faqs_and_troubleshooting/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Showcase
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Showcase" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Showcase
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../showcase/" class="md-nav__link">
        Leaf Deployment Showcase
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        A Brief History
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        Contributing to Leaf
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/leaf_help_research/" class="md-nav__link">
        How can Leaf help biomedical research?
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/sponsor/" class="md-nav__link">
        Leaf Sponsors
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/uwrit/leaf/edit/master/docs/administration/dataset_template_reference.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="dataset-templates-reference">Dataset Templates Reference<a class="headerlink" href="#dataset-templates-reference" title="Permanent link">¶</a></h1>
<p>As mentioned in the <a href="../datasets">Introduction</a>, <code>Datasets</code> can be defined as either:</p>
<ol>
<li>SQL statements which output <strong>dynamic</strong> columns unique to your data. Or,</li>
<li>SQL statements which output <strong>templated</strong> columns representating of <a href="https://www.hl7.org/fhir/resourcelist.html" target="_blank">FHIR resources</a>. </li>
</ol>
<p>This page describes <strong>templated</strong> <code>Dataset</code> shapes.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>SQL Columns of type <code>numeric</code> listed below can be <code>INT</code>, <code>FLOAT</code>, <code>MONEY</code>, <code>NUMERIC</code>, <code>REAL</code>, <code>SMALLINT</code>, <code>SMALLMONEY</code>, or <code>DECIMAL</code>.</p>
</div>
<h2 id="observation">Observation<a class="headerlink" href="#observation" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>1</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/observation.html" target="_blank">Observation</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention suggests using this resource for</p>
<ul>
<li>Vital signs such as body weight, blood pressure, and temperature</li>
<li>Laboratory Data like blood glucose, or an estimated GFR</li>
<li>Imaging results like bone density or fetal measurements</li>
<li>Clinical Findings such as abdominal tenderness</li>
<li>Device measurements such as EKG data or Pulse Oximetry data</li>
<li>Clinical assessment tools such as APGAR or a Glasgow Coma Score</li>
<li>Personal characteristics: such as eye-color</li>
<li>Social history like tobacco use, family support, or cognitive status</li>
<li>Core characteristics like pregnancy status, or a death assertion</li>
</ul>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Observation.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>category</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>effectiveDate</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>referenceRangeLow</td>
<td>datetime</td>
<td></td>
<td></td>
</tr>
<tr>
<td>referenceRangeHigh</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>specimenType</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valueString</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>valueQuantity</td>
<td>numeric</td>
<td></td>
<td></td>
</tr>
<tr>
<td>valueUnit</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="encounter">Encounter<a class="headerlink" href="#encounter" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>2</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/encounter.html" target="_blank">Encounter</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>A patient encounter is characterized by the setting in which it takes place. Amongst them are ambulatory, emergency, home health, inpatient and virtual encounters. An Encounter encompasses the lifecycle from pre-admission, the actual encounter (for ambulatory encounters), and admission, stay and discharge (for inpatient encounters). During the encounter the patient may move from practitioner to practitioner and location to location. </p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Encounter.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>admitDate</td>
<td>datetime</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>class</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>dischargeDate</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>dischargeDisposition</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>location</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="basic-demographics">Basic Demographics<a class="headerlink" href="#basic-demographics" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>3</strong> - A representation of a combination of the <a href="https://www.hl7.org/fhir/person.html" target="_blank">Person</a> and <a href="https://www.hl7.org/fhir/patient.html" target="_blank">Patient</a> FHIR resources.</p>
<p>See the <a href="#basic-demographics">Basic Demographics</a> section above for additional info.</p>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/PatientDemographic.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>addressPostalCode</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>addressState</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>birthDate</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>deceasedDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>ethnicity</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>gender</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>deceasedBoolean</td>
<td>bit</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>hispanicBoolean</td>
<td>bit</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>marriedBoolean</td>
<td>bit</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>language</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>maritalStatus</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>mrn</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>name</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>race</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>religion</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="condition">Condition<a class="headerlink" href="#condition" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>4</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/condition.html" target="_blank">Condition</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>This resource is used to record detailed information about a <strong>condition, problem, diagnosis</strong>, or other event, situation, issue, or clinical concept that has risen to a level of concern. The condition could be a point in time diagnosis in context of an encounter, it could be an item on the practitioner’s Problem List, or it could be a concern that doesn’t exist on the practitioner’s Problem List. Often times, a condition is about a clinician's assessment and assertion of a particular aspect of a patient's state of health. It can be used to record information about a disease/illness identified from application of clinical reasoning over the pathologic and pathophysiologic findings (diagnosis), or identification of health issues/situations that a practitioner considers harmful, potentially harmful and may be investigated and managed (problem), or other health issue/situation that may require ongoing monitoring and/or management (health issue/concern)</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Condition.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>abatementDateTime</td>
<td>datetime</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>category</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>onsetDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>recordedDate</td>
<td>nvarchar</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="procedure">Procedure<a class="headerlink" href="#procedure" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>5</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/procedure.html" target="_blank">Procedure</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>This resource is used to record the details of current and historical procedures performed on or for a patient. A procedure is an activity that is performed on, with, or for a patient as part of the provision of care. Examples include surgical procedures, diagnostic procedures, endoscopic procedures, biopsies, counseling, physiotherapy, personal support services, adult day care services, non-emergency transportation, home modification, exercise, etc. Procedures may be performed by a healthcare professional, a service provider, a friend or relative or in some cases by the patient themselves</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Procedure.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>category</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>performedDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="immunization">Immunization<a class="headerlink" href="#immunization" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>6</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/immunization.html" target="_blank">Immunization</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>The Immunization resource is intended to cover the recording of current and historical administration of vaccines to patients across all healthcare disciplines in all care settings and all regions. This includes immunization of both humans and animals but does not include the administration of non-vaccine agents, even those that may have or claim to have immunological effects. While the terms "immunization" and "vaccination" are not clinically identical, for the purposes of the FHIR resources, the terms are used synonymously</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Immunization.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>doseQuantity</td>
<td>numeric</td>
<td></td>
<td></td>
</tr>
<tr>
<td>doseUnit</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>occurenceDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>route</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>vaccineCode</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="allergy">Allergy<a class="headerlink" href="#allergy" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>7</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/allergyintolerance.html" target="_blank">AllergyIntolerance </a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>A record of a clinical assessment of an allergy or intolerance; a propensity, or a potential risk to an individual, to have an adverse reaction on future exposure to the specified substance, or class of substance</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/Allergy.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>category</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>onsetDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>recordedDate</td>
<td>datetime</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="medicationrequest">MedicationRequest<a class="headerlink" href="#medicationrequest" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>8</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/medicationrequest.html" target="_blank">MedicationRequest</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>This resource covers <strong>all type of orders for medications for a patient</strong>. This includes inpatient medication orders as well as community orders (whether filled by the prescriber or by a pharmacy). It also includes orders for over-the-counter medications (e.g. Aspirin), total parenteral nutrition and diet/ vitamin supplements. It may be used to support the order of medication-related devices. It is not intended for use in prescribing particular diets, or for ordering non-medication-related items (eyeglasses, supplies, etc.). In addition, the MedicationRequest may be used to report orders/request from external systems that have been reported for informational purposes and are not authoritative and are not expected to be acted upon (e.g. dispensed or administered)</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/MedicationRequest.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>amount</td>
<td>numeric</td>
<td></td>
<td></td>
</tr>
<tr>
<td>authoredOn</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>category</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>form</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>unit</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="medicationadministration">MedicationAdministration<a class="headerlink" href="#medicationadministration" title="Permanent link">¶</a></h2>
<p><em>Dataset Shape</em> <strong>9</strong> - A representation of the FHIR <a href="https://www.hl7.org/fhir/medicationadministration.html" target="_blank"> MedicationAdministration</a> Resource</p>
<div class="admonition example">
<p class="admonition-title">FHIR documention describes as</p>
<p>This resource covers the <strong>administration of all medications and vaccines</strong>. Please refer to the Immunization Resource/Profile for the treatment of vaccines. It will principally be used within care settings (including inpatient) to record the capture of medication administrations, including self-administrations of oral medications, injections, intra-venous adjustments, etc. It can also be used in outpatient settings to record allergy shots and other non-immunization administrations. In some cases, it might be used for home-health reporting, such as recording self-administered or even device-administered insulin</p>
</div>
<p>SQL Columns (<a href="https://github.com/uwrit/leaf/blob/master/src/server/Model/Cohort/MedicationAdministration.cs" target="_blank">source</a>):</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Is PHI</th>
</tr>
</thead>
<tbody>
<tr>
<td>personId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>encounterId</td>
<td>nvarchar</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>code</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>coding</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>doseQuantity</td>
<td>numeric</td>
<td></td>
<td></td>
</tr>
<tr>
<td>doseUnit</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>effectiveDateTime</td>
<td>datetime</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>route</td>
<td>nvarchar</td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>nvarchar</td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../concepts/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              The Building Blocks of Leaf: Concepts
            </div>
          </div>
        </a>
      
      
        <a href="../datasets/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Extracting Data for a Cohort: Datasets
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/uwrit/leaf" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.7353b375.min.js"></script>
      
    
  </body>
</html>